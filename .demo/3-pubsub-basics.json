{
  "$schema": "https://demotime.show/demo-time.schema.json",
  "title": "3 - Pub/Sub Basics",
  "description": "",
  "version": 2,
  "demos": [
    {
      "title": "Publishing with Dapr",
      "description": "",
      "steps": [
        {
          "action": "openSlide",
          "path": "/.demo/slides/03-pubsub/publishing.md",
          "slide": 1
        }
      ],
      "icons": {
        "start": "vm",
        "end": "pass-filled"
      }
    },
    {
      "title": "Publishing Diagram",
      "description": "",
      "steps": [
        {
          "action": "markdownPreview",
          "path": "/.demo/slides/03-pubsub/publishing-diagram.md",
          "slide": 1
        }
      ],
      "icons": {
        "start": "vm",
        "end": "pass-filled"
      }
    },
    {
      "title": "Sender project file",
      "description": "",
      "steps": [
        {
          "action": "highlight",
          "path": "Demo1-Declarative/SenderService/SenderService.csproj",
          "position": "10",
          "highlightWholeLine": true
        },
        {
          "action": "executeVSCodeCommand",
          "command": "workbench.action.focusSideBar"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Sender Project.cs",
      "description": "",
      "steps": [
        {
          "action": "highlight",
          "path": "Demo1-Declarative/SenderService/Program.cs",
          "position": "12",
          "highlightWholeLine": true
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Publishing Bytes",
      "description": "",
      "steps": [
        {
          "action": "highlight",
          "path": "Demo1-Declarative/SenderService/Program.cs",
          "position": "25",
          "highlightWholeLine": true
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Publishing pubsub.yaml",
      "description": "",
      "steps": [
        {
          "action": "executeVSCodeCommand",
          "command": "workbench.action.focusSideBar"
        },
        {
          "action": "open",
          "path": "Demo1-Declarative/Resources/pubsub-redis.yaml",
          "position": "12",
          "highlightWholeLine": true
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Pub/Sub Redis: Start services",
      "description": "",
      "steps": [
        {
          "action": "executeTerminalCommand",
          "command": "cd Demo1-Declarative",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "dapr run -f .",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 125
        },
        {
          "action": "open",
          "path": "Demo1-Declarative/dapr.yaml"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Pub/Sub Redis: Check component init",
      "description": "",
      "steps": [
        {
          "action": "executeVSCodeCommand",
          "command": "workbench.action.terminal.focusFind"
        },
        {
          "action": "typeText",
          "content": "pubsub.redis",
          "insertTypingSpeed": 50
        }
      ],
      "icons": {
        "start": "symbol-event",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Pub/Sub Redis: Publish message",
      "description": "",
      "steps": [
        {
          "action": "open",
          "path": "Demo1-Declarative/declarative.http"
        }
      ],
      "icons": {
        "start": "symbol-event",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Pub/Sub Redis: Stop services",
      "icons": {
        "start": "terminal-cmd",
        "end": "pass-filled"
      },
      "steps": [
        {
          "action": "executeTerminalCommand",
          "terminalId": "dapr-run",
          "command": "\u0003"
        },
        {
          "action": "executeTerminalCommand",
          "command": "cd ..",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "clear",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        }
      ]
    },
    {
      "title": "Switch to RabbitMQ",
      "description": "",
      "steps": [
        {
          "action": "openSlide",
          "path": "/.demo/slides/03-pubsub/switch-rabbitmq.md",
          "slide": 1
        }
      ],
      "icons": {
        "start": "vm",
        "end": "pass-filled"
      },
      "disabled": true
    },
    {
      "title": "Start RabbitMQ",
      "icons": {
        "start": "terminal-cmd",
        "end": "pass-filled"
      },
      "steps": [
        {
          "action": "rename",
          "path": "Demo1-Declarative/Resources/pubsub-rabbitmq.yaml.temp",
          "dest": "Demo1-Declarative/Resources/pubsub-rabbitmq.yaml"
        },
        {
          "action": "rename",
          "path": "Demo1-Declarative/Resources/pubsub-redis.yaml",
          "dest": "Demo1-Declarative/Resources/pubsub-redis.yaml.temp"
        },
        {
          "action": "open",
          "path": "Demo1-Declarative/Resources/pubsub-rabbitmq.yaml"
        },
        {
          "action": "executeTerminalCommand",
          "terminalId": "rabbitmq",
          "command": "docker run -it --rm --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:4-management"
        }
      ],
      "disabled": true
    },
    {
      "title": "Demo Pub/Sub RabbitMQ: Start services",
      "description": "",
      "steps": [
        {
          "action": "executeTerminalCommand",
          "command": "cd Demo1-Declarative",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "dapr run -f .",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 125
        },
        {
          "action": "open",
          "path": "Demo1-Declarative/dapr.yaml"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      },
      "disabled": true
    },
    {
      "title": "Demo Pub/Sub RabbitMQ: Check component init",
      "description": "",
      "steps": [
        {
          "action": "executeVSCodeCommand",
          "command": "workbench.action.terminal.focusFind"
        },
        {
          "action": "typeText",
          "content": "pubsub.rabbitmq",
          "insertTypingSpeed": 50
        }
      ],
      "icons": {
        "start": "symbol-event",
        "end": "pass-filled"
      },
      "disabled": true
    },
    {
      "title": "Demo Pub/Sub RabbitMQ: Publish message",
      "description": "",
      "steps": [
        {
          "action": "open",
          "path": "Demo1-Declarative/declarative.http"
        }
      ],
      "icons": {
        "start": "symbol-event",
        "end": "pass-filled"
      },
      "disabled": true
    },
    {
      "title": "Demo Pub/Sub RabbitMQ: Stop services",
      "icons": {
        "start": "terminal-cmd",
        "end": "pass-filled"
      },
      "steps": [
        {
          "action": "executeTerminalCommand",
          "terminalId": "dapr-run",
          "command": "\u0003"
        },
        {
          "action": "executeTerminalCommand",
          "command": "cd ..",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "clear",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "terminalId": "rabbitmq",
          "command": "\u0003"
        },
        {
          "action": "executeTerminalCommand",
          "terminalId": "rabbitmq",
          "command": "clear"
        },
        {
          "action": "rename",
          "path": "Demo1-Declarative/Resources/pubsub-rabbitmq.yaml",
          "dest": "Demo1-Declarative/Resources/pubsub-rabbitmq.yaml.temp"
        },
        {
          "action": "rename",
          "path": "Demo1-Declarative/Resources/pubsub-redis.yaml.temp",
          "dest": "Demo1-Declarative/Resources/pubsub-redis.yaml"
        }
      ],
      "disabled": true
    },
    {
      "title": "Switch to Azure Service Bus",
      "description": "",
      "steps": [
        {
          "action": "openSlide",
          "path": "/.demo/slides/03-pubsub/switch-azure-servicebus.md",
          "slide": 1
        }
      ],
      "icons": {
        "start": "vm",
        "end": "pass-filled"
      }
    },
    {
      "title": "Show component file",
      "icons": {
        "start": "terminal-cmd",
        "end": "pass-filled"
      },
      "steps": [
        {
          "action": "rename",
          "path": "Demo1-Declarative/Resources/pubsub-servicebus.yaml.temp",
          "dest": "Demo1-Declarative/Resources/pubsub-servicebus.yaml"
        },
        {
          "action": "rename",
          "path": "Demo1-Declarative/Resources/pubsub-redis.yaml",
          "dest": "Demo1-Declarative/Resources/pubsub-redis.yaml.temp"
        },
        {
          "action": "open",
          "path": "Demo1-Declarative/Resources/pubsub-servicebus.yaml"
        }
      ]
    },
    {
      "title": "Demo Pub/Sub ServiceBus: Start services",
      "description": "",
      "steps": [
        {
          "action": "executeTerminalCommand",
          "command": "cd Demo1-Declarative",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "dapr run -f .",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 125
        },
        {
          "action": "open",
          "path": "Demo1-Declarative/dapr.yaml"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Pub/Sub ServiceBus: Check component init",
      "description": "",
      "steps": [
        {
          "action": "executeVSCodeCommand",
          "command": "workbench.action.terminal.focusFind"
        },
        {
          "action": "typeText",
          "content": "pubsub.azure.servicebus.topics",
          "insertTypingSpeed": 50
        }
      ],
      "icons": {
        "start": "symbol-event",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Pub/Sub ServiceBus: Publish message",
      "description": "",
      "steps": [
        {
          "action": "open",
          "path": "Demo1-Declarative/declarative.http"
        }
      ],
      "icons": {
        "start": "symbol-event",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Pub/Sub ServiceBus: Stop services",
      "icons": {
        "start": "terminal-cmd",
        "end": "pass-filled"
      },
      "steps": [
        {
          "action": "executeTerminalCommand",
          "terminalId": "dapr-run",
          "command": "\u0003"
        },
        {
          "action": "rename",
          "path": "Demo1-Declarative/Resources/pubsub-servicebus.yaml",
          "dest": "Demo1-Declarative/Resources/pubsub-servicebus.yaml.temp"
        },
        {
          "action": "rename",
          "path": "Demo1-Declarative/Resources/pubsub-redis.yaml.temp",
          "dest": "Demo1-Declarative/Resources/pubsub-redis.yaml"
        },
        {
          "action": "executeTerminalCommand",
          "command": "cd ..",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "clear",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        }
      ]
    },
    {
      "title": "3 ways of doing subscriptions",
      "description": "",
      "steps": [
        {
          "action": "openSlide",
          "path": "/.demo/slides/03-pubsub/3-ways.md",
          "slide": 1
        }
      ],
      "icons": {
        "start": "vm",
        "end": "pass-filled"
      }
    },
    {
      "title": "Declarative",
      "description": "",
      "steps": [
        {
          "action": "openSlide",
          "path": "/.demo/slides/03-pubsub/declarative.md",
          "slide": 1
        }
      ],
      "icons": {
        "start": "vm",
        "end": "pass-filled"
      },
      "disabled": false
    },
    {
      "title": "Declarative subscription.yaml",
      "description": "",
      "steps": [
        {
          "action": "open",
          "path": "Demo1-Declarative/Resources/subscription.yaml"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Declarative Program.cs",
      "description": "",
      "steps": [
        {
          "action": "executeVSCodeCommand",
          "command": "workbench.action.focusSideBar"
        },
        {
          "action": "open",
          "path": "Demo1-Declarative/ReceiverService/Program.cs"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Declarative: Start services",
      "description": "",
      "steps": [
        {
          "action": "executeTerminalCommand",
          "command": "cd Demo1-Declarative",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "dapr run -f .",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 125
        },
        {
          "action": "open",
          "path": "Demo1-Declarative/dapr.yaml"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      },
      "disabled": true
    },
    {
      "title": "Demo Declarative: Publish message",
      "description": "",
      "steps": [
        {
          "action": "open",
          "path": "Demo1-Declarative/declarative.http"
        }
      ],
      "icons": {
        "start": "symbol-event",
        "end": "pass-filled"
      },
      "disabled": true
    },
    {
      "title": "Demo Declarative: Stop services",
      "icons": {
        "start": "terminal-cmd",
        "end": "pass-filled"
      },
      "steps": [
        {
          "action": "executeTerminalCommand",
          "terminalId": "dapr-run",
          "command": "\u0003"
        },
        {
          "action": "executeTerminalCommand",
          "command": "cd ..",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "clear",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        }
      ],
      "disabled": true
    },
    {
      "title": "Programmatic",
      "description": "",
      "steps": [
        {
          "action": "openSlide",
          "path": "/.demo/slides/03-pubsub/programmatic.md",
          "slide": 1
        }
      ],
      "icons": {
        "start": "vm",
        "end": "pass-filled"
      }
    },
    {
      "title": "Programmatic Program.cs",
      "description": "",
      "steps": [
        {
          "action": "open",
          "path": "Demo2-Programmatic/ReceiverService/Program.cs"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Programmatic: Start services",
      "description": "",
      "steps": [
        {
          "action": "executeTerminalCommand",
          "command": "cd Demo2-Programmatic",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "dapr run -f .",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 125
        },
        {
          "action": "open",
          "path": "Demo2-Programmatic/dapr.yaml"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Programmatic: Publish message",
      "description": "",
      "steps": [
        {
          "action": "open",
          "path": "Demo2-Programmatic/programmatic.http"
        }
      ],
      "icons": {
        "start": "symbol-event",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Programmatic: Stop services",
      "icons": {
        "start": "terminal-cmd",
        "end": "pass-filled"
      },
      "steps": [
        {
          "action": "executeTerminalCommand",
          "terminalId": "dapr-run",
          "command": "."
        },
        {
          "action": "executeVSCodeCommand",
          "command": "workbench.action.terminal.sendSequence",
          "args": {
            "text": "\u0003"
          }
        },
        {
          "action": "executeTerminalCommand",
          "command": "cd ..",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "clear",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        }
      ]
    },
    {
      "title": "Streaming",
      "description": "",
      "steps": [
        {
          "action": "openSlide",
          "path": ".demo/slides/03-pubsub/streaming.md",
          "slide": 1
        }
      ],
      "icons": {
        "start": "vm",
        "end": "pass-filled"
      }
    },
    {
      "title": "Streaming Program.cs",
      "description": "",
      "steps": [
        {
          "action": "open",
          "path": "Demo3-Streaming/ReceiverService/Program.cs"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Streaming: Start services",
      "description": "",
      "steps": [
        {
          "action": "executeTerminalCommand",
          "command": "cd Demo3-Streaming",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "dapr run -f .",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 125
        },
        {
          "action": "open",
          "path": "Demo3-Streaming/dapr.yaml"
        }
      ],
      "icons": {
        "start": "code",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Streaming: Publish message",
      "description": "",
      "steps": [
        {
          "action": "open",
          "path": "Demo3-Streaming/streaming.http"
        }
      ],
      "icons": {
        "start": "symbol-event",
        "end": "pass-filled"
      }
    },
    {
      "title": "Demo Streaming: Stop services",
      "icons": {
        "start": "terminal-cmd",
        "end": "pass-filled"
      },
      "steps": [
        {
          "action": "executeTerminalCommand",
          "terminalId": "dapr-run",
          "command": "\u0003"
        },
        {
          "action": "executeTerminalCommand",
          "command": "cd ..",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        },
        {
          "action": "executeTerminalCommand",
          "command": "clear",
          "terminalId": "dapr-run",
          "insertTypingMode": "character-by-character",
          "insertTypingSpeed": 50
        }
      ]
    }
  ]
}